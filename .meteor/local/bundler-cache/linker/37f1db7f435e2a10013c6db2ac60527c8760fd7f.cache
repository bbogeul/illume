[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar _ = Package.underscore._;\nvar ReactiveVar = Package['reactive-var'].ReactiveVar;\nvar IronRouterHelper = Package['ostrio:iron-router-helper-class'].IronRouterHelper;\n\n/* Package-scope variables */\nvar __coffeescriptShare;\n\n(function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// packages/ostrio_iron-router-title/iron-router-title.coffee.js                                               //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar IronRouterTitle,                                                                                           // 1\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;                                                                                 //\n                                                                                                               //\nIronRouterTitle = (function(superClass) {                                                                      // 1\n  extend(IronRouterTitle, superClass);                                                                         // 2\n                                                                                                               //\n  function IronRouterTitle(router) {                                                                           // 2\n    var self;                                                                                                  // 3\n    this.router = router;                                                                                      // 3\n    IronRouterTitle.__super__.constructor.call(this, this.router);                                             // 3\n    if (this.title == null) {                                                                                  //\n      this.title = new ReactiveVar(null);                                                                      //\n    }                                                                                                          //\n    this.title.set = function(newValue) {                                                                      // 3\n      var oldValue;                                                                                            // 6\n      oldValue = this.curValue;                                                                                // 6\n      if (_.isEqual(oldValue, newValue)) {                                                                     // 7\n                                                                                                               // 7\n      } else {                                                                                                 //\n        document.title = newValue;                                                                             // 10\n        return this.curValue = newValue;                                                                       //\n      }                                                                                                        //\n    };                                                                                                         //\n    self = this;                                                                                               // 3\n    this.router.onAfterAction(function() {                                                                     // 3\n      return self.getTitle();                                                                                  //\n    });                                                                                                        //\n  }                                                                                                            //\n                                                                                                               //\n  IronRouterTitle.prototype.setTitle = function(title) {                                                       // 2\n    if (_.isFunction(title)) {                                                                                 // 17\n      title = title.apply(this.currentRoute);                                                                  // 17\n    }                                                                                                          //\n    if (_.isString(title)) {                                                                                   // 18\n      return this.title.set(title);                                                                            //\n    }                                                                                                          //\n  };                                                                                                           //\n                                                                                                               //\n  IronRouterTitle.prototype.getTitle = function() {                                                            // 2\n    return this.setTitle((function() {                                                                         //\n      var ref, ref1, ref2, ref3;                                                                               //\n      switch (false) {                                                                                         // 21\n        case !(((ref = this.currentRoute) != null ? (ref1 = ref.route) != null ? ref1.options : void 0 : void 0) && _.has(this.currentRoute.route.options, 'title')):\n          return this.currentRoute.route.options.title;                                                        //\n        case !(((ref2 = this.currentController) != null ? ref2.prototype : void 0) && _.has(this.currentController.prototype, 'title')):\n          return this.currentController.prototype['title'];                                                    //\n        case !(((ref3 = this.router) != null ? ref3.options : void 0) && _.has(this.router.options, 'title')):\n          return this.router.options.title;                                                                    //\n        default:                                                                                               // 21\n          return false;                                                                                        //\n      }                                                                                                        // 21\n    }).call(this));                                                                                            //\n  };                                                                                                           //\n                                                                                                               //\n  return IronRouterTitle;                                                                                      //\n                                                                                                               //\n})(IronRouterHelper);                                                                                          //\n                                                                                                               //\nMeteor.startup(function() {                                                                                    // 1\n  return new IronRouterTitle(Router);                                                                          //\n});                                                                                                            // 27\n                                                                                                               //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['ostrio:iron-router-title'] = {};\n\n})();\n","servePath":"/packages/ostrio_iron-router-title.js","sourceMap":{"version":3,"sources":["/packages/ostrio_iron-router-title/iron-router-title.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;EAAA;6BAAA;;AAAA;AACE;;AAAa,2BAAC,MAAD;AACX;AAAA,IADY,IAAC,UAAD,MACZ;AAAA,qDAAM,IAAC,OAAP;;MACA,IAAC,SAAa,gBAAY,IAAZ;KADd;AAAA,IAEA,IAAC,MAAK,CAAC,GAAP,GAAa,SAAC,QAAD;AACX;AAAA,iBAAW,IAAC,SAAZ;AACA,UAAG,CAAC,CAAC,OAAF,CAAU,QAAV,EAAoB,QAApB,CAAH;AAAA;OAAA;AAGE,gBAAQ,CAAC,KAAT,GAAiB,QAAjB;eACA,IAAC,SAAD,GAAY,SAJd;OAFW;IAAA,CAFb;AAAA,IAUA,OAAO,IAVP;AAAA,IAWA,IAAC,OAAM,CAAC,aAAR,CAAsB;aAAG,IAAI,CAAC,QAAL,GAAH;IAAA,CAAtB,CAXA,CADW;EAAA,CAAb;;AAAA,4BAcA,WAAU,SAAC,KAAD;AACR,QAAsC,CAAC,CAAC,UAAF,CAAa,KAAb,CAAtC;AAAA,cAAQ,KAAK,CAAC,KAAN,CAAY,IAAC,aAAb,CAAR;KAAA;AACA,QAAoB,CAAC,CAAC,QAAF,CAAW,KAAX,CAApB;aAAA,IAAC,MAAK,CAAC,GAAP,CAAW,KAAX;KAFQ;EAAA,CAdV;;AAAA,4BAkBA,WAAU;WACR,IAAC,SAAD;;AAAU;AAAA,qFACiB,CAAE,0BAAtB,IAAkC,CAAC,CAAC,GAAF,CAAM,IAAC,aAAY,CAAC,KAAK,CAAC,OAA1B,EAAmC,OAAnC,EAD/B;iBAC+E,IAAC,aAAY,CAAC,KAAK,CAAC,OAAO,CAAC,MAD3G;AAAA,8DAEe,CAAE,mBAApB,IAAkC,CAAC,CAAC,GAAF,CAAM,IAAC,kBAAiB,UAAxB,EAA4B,OAA5B,EAF/B;iBAEwE,IAAC,kBAAiB,UAAG,UAF7F;AAAA,mDAGI,CAAE,iBAAT,IAAqB,CAAC,CAAC,GAAF,CAAM,IAAC,OAAM,CAAC,OAAd,EAAuB,OAAvB,EAHlB;iBAGsD,IAAC,OAAM,CAAC,OAAO,CAAC,MAHtE;AAAA;iBAIH,MAJG;AAAA;iBAAV,EADQ;EAAA,CAlBV;;yBAAA;;GAD4B,iBAA9B;;AAAA,MA0BM,CAAC,OAAP,CAAe;SAAO,oBAAgB,MAAhB,EAAP;AAAA,CAAf,CA1BA","file":"/packages/ostrio_iron-router-title.js","sourcesContent":["class IronRouterTitle extends IronRouterHelper\n  constructor: (@router) -> \n    super @router\n    @title ?= new ReactiveVar null\n    @title.set = (newValue) ->\n      oldValue = @curValue\n      if _.isEqual(oldValue, newValue)\n        return\n      else\n        document.title = newValue\n        @curValue = newValue\n\n    self = @\n    @router.onAfterAction -> self.getTitle()\n\n  setTitle: (title) ->\n    title = title.apply(@currentRoute) if _.isFunction title\n    @title.set title if _.isString title\n\n  getTitle: ->\n    @setTitle switch\n      when @currentRoute?.route?.options and _.has @currentRoute.route.options, 'title' then @currentRoute.route.options.title\n      when @currentController?.prototype and _.has @currentController::, 'title' then @currentController::['title']\n      when @router?.options and _.has @router.options, 'title' then @router.options.title\n      else false\n\nMeteor.startup -> new IronRouterTitle Router"]}}]