{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\n                     \n\nIronRouterHelper = (function() {\n  function IronRouterHelper(router) {\n    var self;\n    this.router = router;\n    if (this.currentRoute == null) {\n      this.currentRoute = {};\n    }\n    if (this.currentController == null) {\n      this.currentController = {};\n    }\n    self = this;\n    this.router.onRun(function() {\n      self.currentRoute = this;\n      self.getController();\n      return this.next();\n    });\n    this.router.onBeforeAction(function() {\n      self.currentRoute = this;\n      self.getController();\n      return this.next();\n    });\n  }\n\n  IronRouterHelper.prototype.getController = function() {\n    return this.currentController = (function() {\n      var base, base1, ref, ref1, ref2, ref3;\n      switch (false) {\n        case !((ref = this.currentRoute) != null ? (ref1 = ref.route) != null ? ref1.findControllerConstructor : void 0 : void 0):\n          return typeof (base = this.currentRoute.route).findControllerConstructor === \"function\" ? base.findControllerConstructor() : void 0;\n        case !((ref2 = this.currentRoute) != null ? (ref3 = ref2.route) != null ? ref3.findController : void 0 : void 0):\n          return typeof (base1 = this.currentRoute.route).findController === \"function\" ? base1.findController() : void 0;\n        default:\n          return null;\n      }\n    }).call(this);\n  };\n\n  return IronRouterHelper;\n\n})();\n","sourceMap":{"version":3,"file":"/iron-router-helper-class.coffee.js","sourceRoot":"","sources":["/packages/ostrio_iron-router-helper-class/iron-router-helper-class.coffee"],"names":[],"mappings":";AAAA,IAAA;;AAAM;EACS,0BAAC,MAAD;AACX,QAAA;IADY,IAAC,CAAA,SAAD;;MACZ,IAAC,CAAA,eAAgB;;;MACjB,IAAC,CAAA,oBAAqB;;IAEtB,IAAA,GAAO;IACP,IAAC,CAAA,MAAM,CAAC,KAAR,CAAc,SAAA;MACZ,IAAI,CAAC,YAAL,GAAoB;MACpB,IAAI,CAAC,aAAL,CAAA;aACA,IAAC,CAAA,IAAD,CAAA;IAHY,CAAd;IAKA,IAAC,CAAA,MAAM,CAAC,cAAR,CAAuB,SAAA;MACrB,IAAI,CAAC,YAAL,GAAoB;MACpB,IAAI,CAAC,aAAL,CAAA;aACA,IAAC,CAAA,IAAD,CAAA;IAHqB,CAAvB;EAVW;;6BAeb,aAAA,GAAe,SAAA;WACb,IAAC,CAAA,iBAAD;;AAAqB,cAAA,KAAA;AAAA,oFACM,CAAE,4CADR;wGAC0D,CAAC;AAD3D,sFAEM,CAAE,iCAFR;+FAE+C,CAAC;AAFhD;iBAGd;AAHc;;EADR","sourcesContent":["class IronRouterHelper\n  constructor: (@router) ->\n    @currentRoute ?= {}\n    @currentController ?= {}\n\n    self = @\n    @router.onRun ->\n      self.currentRoute = @\n      self.getController()\n      @next()\n\n    @router.onBeforeAction ->\n      self.currentRoute = @\n      self.getController()\n      @next()\n\n  getController: ->\n    @currentController = switch\n      when @currentRoute?.route?.findControllerConstructor then @currentRoute.route.findControllerConstructor?()\n      when @currentRoute?.route?.findController then @currentRoute.route.findController?()\n      else null"]}}